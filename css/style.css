@import url("https://fonts.googleapis.com/css2?family=Indie+Flower&display=swap");
@import url("https://fonts.googleapis.com/css2?family=Fascinate+Inline&display=swap");

/* === Sudowrite-like soft pastel background === */
:root{
  --peach:   #ffe9d6; /* warm top-left */
  --pink:    #ffd6ec; /* mid pink */
  --lav:     #eadfff; /* lilac */
  --periw:   #dfe2ff; /* cool bottom-right */
}

/* let the gradient fill the viewport */
html, body { height: 100%; }

/* Base gradient: very light + low saturation */
body{
  /* three layers: peach corner, cool corner, gentle sweep */
  background:
    radial-gradient(120% 110% at 8% 0%,
      rgba(255,233,214,0.85) 0%,
      rgba(255,233,214,0.55) 28%,
      rgba(255,233,214,0.00) 60%),
    radial-gradient(110% 120% at 92% 88%,
      rgba(223,226,255,0.85) 0%,
      rgba(223,226,255,0.50) 30%,
      rgba(223,226,255,0.00) 62%),
    linear-gradient(135deg,
      var(--peach) 0%,
      var(--pink) 46%,
      var(--lav) 72%,
      var(--periw) 100%);
  background-attachment: fixed;
  background-repeat: no-repeat;
  background-size: cover;
  color: #222; /* keep text readable */
}



/* -----Flipbook----- */
/* ===== Flipbook (synced + smooth) ===== */
:root{
  --book-angle: 60deg;
  --speed: 5s;                 /* one physical flip */
  --cycle: calc(var(--speed)*5);/* rotate images every 25s */
  --border: #555;
}

*{ box-sizing:border-box; margin:0 auto; padding:0; }

.container{
  position:relative; width:420px; height:420px;
  border:#fff 2px solid; border-radius:4px;
}

.title{
  position:absolute; top:45px; left:0; width:100%;
  font-size:2em; font-weight:normal; line-height:1;
}

.credit{ position:absolute; top:100%; left:0; font-size:.9em; text-align:left; }

.book{
  position:relative; perspective:630px; perspective-origin:center 50px;
  transform:scale(1.2);
  filter:drop-shadow(0 10px 5px rgba(0,0,0,.25));
}

/* --- preload (optional) --- */
@keyframes preLoad{
  0%{  background-image:url("https://picsum.photos/420/300?random=1"); }
  10%{ background-image:url("https://picsum.photos/420/300?random=2"); }
  20%{ background-image:url("https://picsum.photos/420/300?random=3"); }
  30%{ background-image:url("https://picsum.photos/420/300?random=4"); }
  40%{ background-image:url("https://picsum.photos/420/300?random=5"); }
  100%{ display:none; }
}
.imgLoader{ position:fixed; width:1px; height:1px; animation:preLoad 1s steps(1); }

/* --- pages --- */
.page{
  width:210px; height:300px; background:#bbb; position:absolute; top:0; right:50%;
  transform-origin:100% 100%; border:2px solid var(--border);
  background-size:420px 300px; background-position:center;
  transform-style:preserve-3d; backface-visibility:hidden; will-change:transform;
}

.page:nth-child(1){ transform:rotateX(var(--book-angle)) rotateY(3deg); }
.page:nth-child(2){ transform:rotateX(var(--book-angle)) rotateY(4.5deg); }

/* the visible page image sequence */
.page:nth-child(3){
  transform:rotateX(var(--book-angle)) rotateY(6deg);
  background-size:420px 300px; background-position:-2px -2px;
  animation: nextPage var(--cycle) steps(1) infinite;
  animation-delay: calc(var(--cycle)*-0.96); /* = -24s with speed=5s */
}

.page:nth-child(4){ transform:rotateX(var(--book-angle)) rotateY(177deg); }
.page:nth-child(5){ transform:rotateX(var(--book-angle)) rotateY(175.5deg); }
.page:nth-child(6){
  transform:rotateX(var(--book-angle)) rotateY(174deg); overflow:hidden;
}
.page:nth-child(6)::after{
  content:""; position:absolute; top:0; right:0; width:210px; height:300px;
  transform-origin:center; transform:rotateY(180deg);
  background-size:420px 300px; background-position:100% -2px;
  animation: nextPage var(--cycle) steps(1) infinite;
  animation-delay: calc(var(--cycle)*-0.80); /* = -20s */
}

/* image sequence used by pages & strips */
@keyframes nextPage{
  0%  { background-image:url("https://picsum.photos/420/300?random=1"); }
  20% { background-image:url("https://picsum.photos/420/300?random=2"); }
  40% { background-image:url("https://picsum.photos/420/300?random=3"); }
  60% { background-image:url("https://picsum.photos/420/300?random=4"); }
  80% { background-image:url("https://picsum.photos/420/300?random=5"); }
}

/* --- gutter --- */
.gap{
  width:10px; height:300px; background:none;
  transform:rotateX(var(--book-angle)); transform-origin:bottom;
  position:absolute; top:0; left:calc(50% - 5px);
}
.gap::after{
  content:""; position:absolute; bottom:0; left:50%; transform:translate(-50%,50%);
  background:var(--border); width:10px; height:5px; border-radius:50%;
}

/* --- flip strips (right-hand edge) --- */
.pages, .flips{ transform-style:preserve-3d; }
.flip{
  width:32px; height:300px; position:absolute; top:0; right:100%;
  transform-origin:100% 100%; border:2px solid var(--border); border-width:2px 0;
  perspective:4200px; transform-style:preserve-3d; background-size:420px 300px;
  backface-visibility:hidden; will-change:transform;
}
.flip::after{
  content:""; position:absolute; top:0; right:0; width:100%; height:100%;
  transform-origin:center; background-size:420px 300px;
}

/* main flipping strip */
.flip.flip1{
  right:50%;
  border-width:2px 2px 2px 0;
  animation: flip1 var(--speed) ease-in-out infinite;
}
.flip.flip1::after{
  animation: nextFlip1 var(--cycle) steps(1) infinite;
  animation-delay: calc(var(--cycle)*-0.80);
}

/* supporting strips (staggered for grace) */
.flip.flip2{ animation: flip2 var(--speed) ease-in-out infinite; animation-delay: .05s; }
.flip.flip3{ animation: flip2 var(--speed) ease-in-out infinite; animation-delay: .10s; }
.flip.flip4{ animation: flip2 var(--speed) ease-in-out infinite; animation-delay: .15s; }
.flip.flip5{ animation: flip2 var(--speed) ease-in-out infinite; animation-delay: .20s; }
.flip.flip6{ animation: flip2 var(--speed) ease-in-out infinite; animation-delay: .25s; }
.flip.flip7{
  width:30px; border-width:2px 0 2px 2px;
  animation: flip2 var(--speed) ease-in-out infinite; animation-delay: .30s;
}

/* align their image changes to the cycle */
.flip.flip2::after{ animation: nextFlip2 var(--cycle) steps(1) infinite; animation-delay: calc(var(--cycle)*-0.80); }
.flip.flip3::after{ animation: nextFlip3 var(--cycle) steps(1) infinite; animation-delay: calc(var(--cycle)*-0.80); }
.flip.flip4::after{ animation: nextFlip4 var(--cycle) steps(1) infinite; animation-delay: calc(var(--cycle)*-0.80); }
.flip.flip5::after{ animation: nextFlip5 var(--cycle) steps(1) infinite; animation-delay: calc(var(--cycle)*-0.80); }
.flip.flip6::after{ animation: nextFlip6 var(--cycle) steps(1) infinite; animation-delay: calc(var(--cycle)*-0.80); }
.flip.flip7::after{ animation: nextFlip7 var(--cycle) steps(1) infinite; animation-delay: calc(var(--cycle)*-0.80); }

/* smoother turn (slightly wider arc) */
@keyframes flip1{
  0%,20%   { transform: rotateX(var(--book-angle)) rotateY(6deg); }
  50%      { transform: rotateX(var(--book-angle)) rotateY(180deg); }
  80%,100% { transform: rotateX(var(--book-angle)) rotateY(174deg); }
}
@keyframes flip2{
  0%,20% { transform: rotateY(0deg); }
  50%    { transform: rotateY(-22deg); } /* wider + smoother */
  80%,100% { transform: rotateY(0deg); }
}

/* image positions per strip — tuned to line up with the flip timing */
@keyframes nextFlip1{
  0%{   background-image:url("https://picsum.photos/420/300?random=1"); background-position:-178px -2px; transform:rotateY(0deg); }
  10%{  background-image:url("https://picsum.photos/420/300?random=2"); background-position:-210px -2px; transform:rotateY(180deg); }
  20%{  background-image:url("https://picsum.photos/420/300?random=2"); background-position:-178px -2px; transform:rotateY(0deg); }
  30%{  background-image:url("https://picsum.photos/420/300?random=3"); background-position:-210px -2px; transform:rotateY(180deg); }
  40%{  background-image:url("https://picsum.photos/420/300?random=3"); background-position:-178px -2px; transform:rotateY(0deg); }
  50%{  background-image:url("https://picsum.photos/420/300?random=4"); background-position:-210px -2px; transform:rotateY(180deg); }
  60%{  background-image:url("https://picsum.photos/420/300?random=4"); background-position:-178px -2px; transform:rotateY(0deg); }
  70%{  background-image:url("https://picsum.photos/420/300?random=5"); background-position:-210px -2px; transform:rotateY(180deg); }
  80%{  background-image:url("https://picsum.photos/420/300?random=5"); background-position:-178px -2px; transform:rotateY(0deg); }
  90%{  background-image:url("https://picsum.photos/420/300?random=1"); background-position:-210px -2px; transform:rotateY(180deg); }
}
/* slight phase offsets across strips maintain the “rolling” feel */
@keyframes nextFlip2{ 0%{background-image:url("https://picsum.photos/420/300?random=1"); background-position:-148px -2px; transform:rotateY(0); }
 10.5%{background-image:url("https://picsum.photos/420/300?random=2"); background-position:-238px -2px; transform:rotateY(180deg); }
 20%{background-image:url("https://picsum.photos/420/300?random=2"); background-position:-148px -2px; transform:rotateY(0); }
 30.5%{background-image:url("https://picsum.photos/420/300?random=3"); background-position:-238px -2px; transform:rotateY(180deg); }
 40%{background-image:url("https://picsum.photos/420/300?random=3"); background-position:-148px -2px; transform:rotateY(0); }
 50.5%{background-image:url("https://picsum.photos/420/300?random=4"); background-position:-238px -2px; transform:rotateY(180deg); }
 60%{background-image:url("https://picsum.photos/420/300?random=4"); background-position:-148px -2px; transform:rotateY(0); }
 70.5%{background-image:url("https://picsum.photos/420/300?random=5"); background-position:-238px -2px; transform:rotateY(180deg); }
 80%{background-image:url("https://picsum.photos/420/300?random=5"); background-position:-148px -2px; transform:rotateY(0); }
 90.5%{background-image:url("https://picsum.photos/420/300?random=1"); background-position:-238px -2px; transform:rotateY(180deg); } }
@keyframes nextFlip3{ 0%{background-image:url("https://picsum.photos/420/300?random=1"); background-position:-118px -2px; transform:rotateY(0); }
 11%{background-image:url("https://picsum.photos/420/300?random=2"); background-position:-268px -2px; transform:rotateY(180deg); }
 20%{background-image:url("https://picsum.photos/420/300?random=2"); background-position:-118px -2px; transform:rotateY(0); }
 31%{background-image:url("https://picsum.photos/420/300?random=3"); background-position:-268px -2px; transform:rotateY(180deg); }
 40%{background-image:url("https://picsum.photos/420/300?random=3"); background-position:-118px -2px; transform:rotateY(0); }
 51%{background-image:url("https://picsum.photos/420/300?random=4"); background-position:-268px -2px; transform:rotateY(180deg); }
 60%{background-image:url("https://picsum.photos/420/300?random=4"); background-position:-118px -2px; transform:rotateY(0); }
 71%{background-image:url("https://picsum.photos/420/300?random=5"); background-position:-268px -2px; transform:rotateY(180deg); }
 80%{background-image:url("https://picsum.photos/420/300?random=5"); background-position:-118px -2px; transform:rotateY(0); }
 91%{background-image:url("https://picsum.photos/420/300?random=1"); background-position:-268px -2px; transform:rotateY(180deg); } }
@keyframes nextFlip4{ 0%{background-image:url("https://picsum.photos/420/300?random=1"); background-position:-88px -2px; transform:rotateY(0); }
 11.5%{background-image:url("https://picsum.photos/420/300?random=2"); background-position:-298px -2px; transform:rotateY(180deg); }
 20%{background-image:url("https://picsum.photos/420/300?random=2"); background-position:-88px -2px; transform:rotateY(0); }
 31.5%{background-image:url("https://picsum.photos/420/300?random=3"); background-position:-298px -2px; transform:rotateY(180deg); }
 40%{background-image:url("https://picsum.photos/420/300?random=3"); background-position:-88px -2px; transform:rotateY(0); }
 51.5%{background-image:url("https://picsum.photos/420/300?random=4"); background-position:-298px -2px; transform:rotateY(180deg); }
 60%{background-image:url("https://picsum.photos/420/300?random=4"); background-position:-88px -2px; transform:rotateY(0); }
 71.5%{background-image:url("https://picsum.photos/420/300?random=5"); background-position:-298px -2px; transform:rotateY(180deg); }
 80%{background-image:url("https://picsum.photos/420/300?random=5"); background-position:-88px -2px; transform:rotateY(0); }
 91.5%{background-image:url("https://picsum.photos/420/300?random=1"); background-position:-298px -2px; transform:rotateY(180deg); } }
@keyframes nextFlip5{ 0%{background-image:url("https://picsum.photos/420/300?random=1"); background-position:-58px -2px; transform:rotateY(0); }
 12%{background-image:url("https://picsum.photos/420/300?random=2"); background-position:-328px -2px; transform:rotateY(180deg); }
 20%{background-image:url("https://picsum.photos/420/300?random=2"); background-position:-58px -2px; transform:rotateY(0); }
 32%{background-image:url("https://picsum.photos/420/300?random=3"); background-position:-328px -2px; transform:rotateY(180deg); }
 40%{background-image:url("https://picsum.photos/420/300?random=3"); background-position:-58px -2px; transform:rotateY(0); }
 52%{background-image:url("https://picsum.photos/420/300?random=4"); background-position:-328px -2px; transform:rotateY(180deg); }
 60%{background-image:url("https://picsum.photos/420/300?random=4"); background-position:-58px -2px; transform:rotateY(0); }
 72%{background-image:url("https://picsum.photos/420/300?random=5"); background-position:-328px -2px; transform:rotateY(180deg); }
 80%{background-image:url("https://picsum.photos/420/300?random=5"); background-position:-58px -2px; transform:rotateY(0); }
 92%{background-image:url("https://picsum.photos/420/300?random=1"); background-position:-328px -2px; transform:rotateY(180deg); } }
@keyframes nextFlip6{ 0%{background-image:url("https://picsum.photos/420/300?random=1"); background-position:-28px -2px; transform:rotateY(0); }
 12.5%{background-image:url("https://picsum.photos/420/300?random=2"); background-position:-358px -2px; transform:rotateY(180deg); }
 20%{background-image:url("https://picsum.photos/420/300?random=2"); background-position:-28px -2px; transform:rotateY(0); }
 32.5%{background-image:url("https://picsum.photos/420/300?random=3"); background-position:-358px -2px; transform:rotateY(180deg); }
 40%{background-image:url("https://picsum.photos/420/300?random=3"); background-position:-28px -2px; transform:rotateY(0); }
 52.5%{background-image:url("https://picsum.photos/420/300?random=4"); background-position:-358px -2px; transform:rotateY(180deg); }
 60%{background-image:url("https://picsum.photos/420/300?random=4"); background-position:-28px -2px; transform:rotateY(0); }
 72.5%{background-image:url("https://picsum.photos/420/300?random=5"); background-position:-358px -2px; transform:rotateY(180deg); }
 80%{background-image:url("https://picsum.photos/420/300?random=5"); background-position:-28px -2px; transform:rotateY(0); }
 92.5%{background-image:url("https://picsum.photos/420/300?random=1"); background-position:-358px -2px; transform:rotateY(180deg); } }
@keyframes nextFlip7{ 0%{background-image:url("https://picsum.photos/420/300?random=1"); background-position:-2px -2px; transform:rotateY(0); }
 13%{background-image:url("https://picsum.photos/420/300?random=2"); background-position:-388px -2px; transform:rotateY(180deg); }
 20%{background-image:url("https://picsum.photos/420/300?random=2"); background-position:-2px -2px; transform:rotateY(0); }
 33%{background-image:url("https://picsum.photos/420/300?random=3"); background-position:-388px -2px; transform:rotateY(180deg); }
 40%{background-image:url("https://picsum.photos/420/300?random=3"); background-position:-2px -2px; transform:rotateY(0); }
 53%{background-image:url("https://picsum.photos/420/300?random=4"); background-position:-388px -2px; transform:rotateY(180deg); }
 60%{background-image:url("https://picsum.photos/420/300?random=4"); background-position:-2px -2px; transform:rotateY(0); }
 73%{background-image:url("https://picsum.photos/420/300?random=5"); background-position:-388px -2px; transform:rotateY(180deg); }
 80%{background-image:url("https://picsum.photos/420/300?random=5"); background-position:-2px -2px; transform:rotateY(0); }
 93%{background-image:url("https://picsum.photos/420/300?random=1"); background-position:-388px -2px; transform:rotateY(180deg); } }
